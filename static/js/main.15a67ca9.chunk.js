(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[1],{17:function(t,e,c){"use strict";var n=c(4),r=Object(n.b)("contacts/fetchContactsRequest"),a=Object(n.b)("contacts/fetchContactsSuccess"),s=Object(n.b)("contacts/fetchContactsError"),o=Object(n.b)("contacts/addContactRequest"),u=Object(n.b)("contacts/addContactSuccess"),i=Object(n.b)("contacts/addContactError"),l=Object(n.b)("contacts/deleteContactRequest"),b=Object(n.b)("contacts/deleteContactSuccess"),j=Object(n.b)("contacts/deleteContactError"),d=Object(n.b)("contacts/FilterChange");e.a={addContactRequest:o,addContactSuccess:u,addContactError:i,deleteContactRequest:l,deleteContactSuccess:b,deleteContactError:j,filterChange:d,fetchContactsRequest:r,fetchContactsSuccess:a,fetchContactsError:s}},23:function(t,e,c){t.exports={SideNav:"SideNav_SideNav__1W64h",SideNavLink:"SideNav_SideNavLink__1vYN5",NavLink:"SideNav_NavLink__N2TsS",NavLinkActive:"SideNav_NavLinkActive__2UZp8"}},24:function(t,e,c){t.exports={AuthNav:"AuthNav_AuthNav__gOT1D",AuthNavLink:"AuthNav_AuthNavLink__2rpxq",NavLink:"AuthNav_NavLink__3asKX",NavLinkActive:"AuthNav_NavLinkActive__35MSz"}},30:function(t,e,c){"use strict";var n=c(18),r=c.n(n),a=c(29),s=c(21),o=c.n(s),u=c(5);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var i=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},l=function(){o.a.defaults.headers.common.Authorization=""};e.a={register:function(t){return function(){var e=Object(a.a)(r.a.mark((function e(c){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(u.a.registerRequest()),e.prev=1,e.next=4,o.a.post("/users/signup",t);case 4:n=e.sent,i(n.data.token),c(u.a.registerSuccess(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c(u.a.registerError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},login:function(t){return function(){var e=Object(a.a)(r.a.mark((function e(c){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(u.a.loginRequest()),e.prev=1,e.next=4,o.a.post("/users/login",t);case 4:n=e.sent,i(n.data.token),c(u.a.loginSuccess(n.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),c(u.a.loginError(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},logout:function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(u.a.logoutRequest()),t.prev=1,t.next=4,o.a.post("/users/logout");case 4:e(u.a.logoutSuccess()),l(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(u.a.logoutError(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,c){var n,a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c(),a=n.auth.token){t.next=3;break}return t.abrupt("return");case 3:return i(a),e(u.a.getCurrentUserRequest()),t.prev=5,t.next=8,o.a.get("/users/current");case 8:s=t.sent,e(u.a.getCurrentUserSuccess(s.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(u.a.getCurrentUserError(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,c){return t.apply(this,arguments)}}()}}},39:function(t,e,c){t.exports={Button:"UserMenu_Button__2OceE",Avatar:"UserMenu_Avatar__A1at9"}},5:function(t,e,c){"use strict";var n=c(4),r=Object(n.b)("auth/registerRequest"),a=Object(n.b)("auth/registerSuccess"),s=Object(n.b)("auth/registerError"),o=Object(n.b)("auth/loginRequest"),u=Object(n.b)("auth/loginSuccess"),i=Object(n.b)("auth/loginError"),l=Object(n.b)("auth/logoutRequest"),b=Object(n.b)("auth/logoutSuccess"),j=Object(n.b)("auth/logoutError"),d=Object(n.b)("auth/getCurrentUserRequest"),O=Object(n.b)("auth/getCurrentUserSuccess"),h=Object(n.b)("auth/getCurrentUserError");e.a={registerRequest:r,registerSuccess:a,registerError:s,loginRequest:o,loginSuccess:u,loginError:i,logoutRequest:l,logoutSuccess:b,logoutError:j,getCurrentUserRequest:d,getCurrentUserSuccess:O,getCurrentUserError:h}},56:function(t,e,c){t.exports={AppBar:"AppBar_AppBar__31S-f"}},65:function(t,e,c){},66:function(t,e,c){},99:function(t,e,c){"use strict";c.r(e);var n=c(0),r=c.n(n),a=c(20),s=c.n(a),o=(c(65),c(66),c(7)),u=c(23),i=c.n(u),l=c(16),b=function(t){return t.auth.isAuthenticated},j=function(t){return t.auth.user.name},d=c(10),O=c(2);function h(){var t=Object(d.d)(b);return Object(O.jsxs)("ul",{className:i.a.SideNav,children:[Object(O.jsx)("li",{className:i.a.SideNavLink,children:Object(O.jsx)(l.b,{to:"/",exact:!0,className:i.a.NavLink,activeClassName:i.a.NavLinkActive,children:"Home"})}),Object(O.jsx)("li",{className:i.a.SideNavLink,children:t&&Object(O.jsx)(l.b,{to:"/contacts",exact:!0,className:i.a.NavLink,activeClassName:i.a.NavLinkActive,children:"Contacts"})})]})}var f=c(24),g=c.n(f),v=function(){return Object(O.jsxs)("ul",{className:g.a.AuthNav,children:[Object(O.jsx)("li",{className:g.a.AuthNavLink,children:Object(O.jsx)(l.b,{to:"/register",exact:!0,className:g.a.NavLink,activeClassName:g.a.NavLinkActive,children:"Registration"})}),Object(O.jsx)("li",{className:g.a.AuthNavLink,children:Object(O.jsx)(l.b,{to:"/login",className:g.a.NavLink,activeClassName:g.a.NavLinkActive,children:"Login"})})]})},p=c(30),x=c.p+"static/media/profile_pic.3f71ad80.png",N=c(39),C=c.n(N),m=c(40);function k(){var t=Object(d.d)(j),e=Object(d.c)(),c=Object(n.useCallback)((function(){return e(p.a.logout())}),[e]);return Object(O.jsxs)("div",{style:{marginLeft:"auto",width:"auto"},children:[Object(O.jsx)("img",{className:C.a.Avatar,src:x,alt:"",width:"32"}),Object(O.jsxs)("span",{style:{color:"purple",fontSize:"18px",fontWeight:"bold"},children:["Welcome, ",t]}),Object(O.jsx)(m.a,{className:C.a.Button,variant:"light",type:"button",onClick:c,children:"Logout"})]})}var S=c(56),_=c.n(S),A=c(60);function E(){var t=Object(d.d)(b);return Object(O.jsxs)(A.a,{bg:"info",variant:"dark",className:_.a.AppBar,children:[Object(O.jsx)(h,{}),t?Object(O.jsx)(k,{}):Object(O.jsx)(v,{})]})}var L=c(26),y=c(33);function R(t){var e=t.children,c=Object(y.a)(t,["children"]),n=Object(d.d)(b);return Object(O.jsx)(o.b,Object(L.a)(Object(L.a)({},c),{},{children:n?e:Object(O.jsx)(o.a,{to:"/login"})}))}function q(t){t.component;var e=t.children,c=Object(y.a)(t,["component","children"]),n=Object(d.d)(b);return Object(O.jsx)(o.b,Object(L.a)(Object(L.a)({},c),{},{children:n&&c.restricted?Object(O.jsx)(o.a,{to:"/contacts"}):e}))}c(95);var U=Object(n.lazy)((function(){return c.e(5).then(c.bind(null,120))})),w=Object(n.lazy)((function(){return Promise.all([c.e(0),c.e(6)]).then(c.bind(null,121))})),z=Object(n.lazy)((function(){return Promise.all([c.e(0),c.e(7)]).then(c.bind(null,122))})),B=Object(n.lazy)((function(){return Promise.all([c.e(0),c.e(4)]).then(c.bind(null,119))}));function M(){var t=Object(d.c)();return Object(n.useEffect)((function(){t(p.a.getCurrentUser())}),[t]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(E,{}),Object(O.jsx)(n.Suspense,{fallback:Object(O.jsx)("p",{children:"Loading..."}),children:Object(O.jsxs)(o.d,{children:[Object(O.jsx)(q,{exact:!0,path:"/",children:Object(O.jsx)(U,{})}),Object(O.jsx)(q,{exact:!0,path:"/register",restricted:!0,children:Object(O.jsx)(z,{})}),Object(O.jsx)(q,{exact:!0,path:"/login",restricted:!0,children:Object(O.jsx)(w,{})}),Object(O.jsx)(R,{exact:!0,path:"/contacts",children:Object(O.jsx)(B,{})}),Object(O.jsx)(o.b,{component:U})]})})]})}c(96);var F,P,T,W,J,D,H=c(32),I=c(8),K=c(6),X=c(4),Y=c(17),Z=Y.a.addContactRequest,G=Y.a.addContactSuccess,Q=Y.a.addContactError,V=Y.a.deleteContactRequest,$=Y.a.deleteContactSuccess,tt=Y.a.deleteContactError,et=(Y.a.fetchContactsRequest,Y.a.fetchContactsSuccess),ct=(Y.a.fetchContactsError,Object(X.c)([],(F={},Object(K.a)(F,et,(function(t,e){return e.payload})),Object(K.a)(F,G,(function(t,e){var c=e.payload;return t.find((function(t){return t.name===c.name}))?(alert("".concat(c.name," is already in contacts.")),t):[].concat(Object(H.a)(t),[c])})),Object(K.a)(F,$,(function(t,e){var c=e.payload;return t.filter((function(t){return t.id!==c}))})),F))),nt=Object(X.c)("",{"contacts/FilterChange":function(t,e){return e.payload}}),rt=Object(X.c)(!1,(P={},Object(K.a)(P,Z,(function(){return!0})),Object(K.a)(P,G,(function(){return!1})),Object(K.a)(P,Q,(function(){return!1})),Object(K.a)(P,V,(function(){return!0})),Object(K.a)(P,$,(function(){return!1})),Object(K.a)(P,tt,(function(){return!1})),P)),at=Object(I.b)({items:ct,filter:nt,loading:rt}),st=c(57),ot=c.n(st),ut=c(19),it=c(58),lt=c.n(it),bt=c(5),jt={name:null,email:null},dt=Object(X.c)(jt,(T={},Object(K.a)(T,bt.a.registerSuccess,(function(t,e){return e.payload.user})),Object(K.a)(T,bt.a.loginSuccess,(function(t,e){return e.payload.user})),Object(K.a)(T,bt.a.logoutSuccess,(function(t,e){return jt})),Object(K.a)(T,bt.a.getCurrentUserSuccess,(function(t,e){return e.payload})),T)),Ot=Object(X.c)(!1,(W={},Object(K.a)(W,bt.a.registerSuccess,(function(){return!0})),Object(K.a)(W,bt.a.loginSuccess,(function(){return!0})),Object(K.a)(W,bt.a.getCurrentUserSuccess,(function(){return!0})),Object(K.a)(W,bt.a.registerError,(function(){return!1})),Object(K.a)(W,bt.a.loginError,(function(){return!1})),Object(K.a)(W,bt.a.getCurrentUserError,(function(){return!1})),Object(K.a)(W,bt.a.logoutSuccess,(function(){return!1})),W)),ht=Object(X.c)(null,(J={},Object(K.a)(J,bt.a.registerSuccess,(function(t,e){return e.payload.token})),Object(K.a)(J,bt.a.loginSuccess,(function(t,e){return e.payload.token})),Object(K.a)(J,bt.a.logoutSuccess,(function(t,e){return null})),J)),ft=Object(X.c)(null,(D={},Object(K.a)(D,bt.a.registerError,(function(t,e){return e.payload})),Object(K.a)(D,bt.a.loginError,(function(t,e){return e.payload})),Object(K.a)(D,bt.a.logoutError,(function(t,e){return e.payload})),Object(K.a)(D,bt.a.getCurrentUserError,(function(t,e){return e.payload})),D)),gt=Object(I.b)({user:dt,isAuthenticated:Ot,token:ht,error:ft}),vt={key:"auth",storage:lt.a,whitelist:["token"]},pt=Object(I.b)({contacts:at,auth:Object(ut.g)(vt,gt)}),xt=[].concat(Object(H.a)(Object(X.d)({serializableCheck:{ignoredActions:[ut.a,ut.f,ut.b,ut.c,ut.d,ut.e]}})),[ot.a]),Nt=Object(X.a)({reducer:pt,middleware:xt,devTools:!1}),Ct={store:Nt,persistor:Object(ut.h)(Nt)},mt=c(59);s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(l.a,{children:Object(O.jsx)(d.a,{store:Ct.store,children:Object(O.jsx)(mt.a,{loading:null,persistor:Ct.persistor,children:Object(O.jsx)(M,{})})})})}),document.getElementById("root"))}},[[99,2,3]]]);
//# sourceMappingURL=main.15a67ca9.chunk.js.map